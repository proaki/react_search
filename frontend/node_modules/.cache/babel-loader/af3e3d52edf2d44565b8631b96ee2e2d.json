{"ast":null,"code":"'use strict';\n\nexports.__esModule = true;\n\nvar _extends = Object.assign || function (target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i];\n\n    for (var key in source) {\n      if (Object.prototype.hasOwnProperty.call(source, key)) {\n        target[key] = source[key];\n      }\n    }\n  }\n\n  return target;\n};\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _actions = require('@appbaseio/reactivecore/lib/actions');\n\nvar _hoistNonReactStatics = require('hoist-non-react-statics');\n\nvar _hoistNonReactStatics2 = _interopRequireDefault(_hoistNonReactStatics);\n\nvar _helper = require('@appbaseio/reactivecore/lib/utils/helper');\n\nvar _types = require('@appbaseio/reactivecore/lib/utils/types');\n\nvar _types2 = _interopRequireDefault(_types);\n\nvar _xdate = require('xdate');\n\nvar _xdate2 = _interopRequireDefault(_xdate);\n\nvar _constants = require('@appbaseio/reactivecore/lib/utils/constants');\n\nvar _DayPickerInput = require('react-day-picker/DayPickerInput');\n\nvar _DayPickerInput2 = _interopRequireDefault(_DayPickerInput);\n\nvar _emotionTheming = require('emotion-theming');\n\nvar _DateContainer = require('../../styles/DateContainer');\n\nvar _DateContainer2 = _interopRequireDefault(_DateContainer);\n\nvar _Title = require('../../styles/Title');\n\nvar _Title2 = _interopRequireDefault(_Title);\n\nvar _Flex = require('../../styles/Flex');\n\nvar _Flex2 = _interopRequireDefault(_Flex);\n\nvar _utils = require('../../utils');\n\nvar _CancelSvg = require('../shared/CancelSvg');\n\nvar _CancelSvg2 = _interopRequireDefault(_CancelSvg);\n\nvar _ComponentWrapper = require('../basic/ComponentWrapper');\n\nvar _ComponentWrapper2 = _interopRequireDefault(_ComponentWrapper);\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    default: obj\n  };\n}\n\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _possibleConstructorReturn(self, call) {\n  if (!self) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self;\n}\n\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass);\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      enumerable: false,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;\n}\n\nvar DateRange = function (_Component) {\n  _inherits(DateRange, _Component);\n\n  function DateRange(props) {\n    _classCallCheck(this, DateRange);\n\n    var _this = _possibleConstructorReturn(this, _Component.call(this, props));\n\n    _initialiseProps.call(_this);\n\n    var currentDate = props.defaultValue || props.value || null;\n\n    if (props.selectedValue) {\n      if (Array.isArray(props.selectedValue)) {\n        currentDate = {\n          start: new _xdate2.default(props.selectedValue[0])[0],\n          end: new _xdate2.default(props.selectedValue[1])[0]\n        };\n      } else {\n        var _props$selectedValue = props.selectedValue,\n            start = _props$selectedValue.start,\n            end = _props$selectedValue.end;\n        currentDate = {\n          start: new _xdate2.default(start)[0],\n          end: new _xdate2.default(end)[0]\n        };\n      }\n    }\n\n    _this.state = {\n      currentDate: currentDate,\n      dateHovered: null,\n      startKey: 'on-start',\n      endKey: 'on-end'\n    };\n    var hasMounted = false; // Set custom query in store\n\n    (0, _helper.updateCustomQuery)(props.componentId, props, _this.state.currentDate);\n\n    if (currentDate) {\n      _this.handleDateChange(currentDate, false, props, hasMounted);\n    }\n\n    return _this;\n  }\n\n  DateRange.prototype.componentDidMount = function componentDidMount() {\n    var _props = this.props,\n        enableAppbase = _props.enableAppbase,\n        index = _props.index;\n\n    if (!enableAppbase && index) {\n      console.warn('Warning(ReactiveSearch): In order to use the `index` prop, the `enableAppbase` prop must be set to true in `ReactiveBase`.');\n    }\n  };\n\n  DateRange.prototype.componentDidUpdate = function componentDidUpdate(prevProps) {\n    var _this2 = this;\n\n    if (!(0, _helper.isEqual)(JSON.stringify(this.props.value), JSON.stringify(prevProps.value))) {\n      this.handleDateChange(this.props.value, false, this.props);\n    } else {\n      var currentDate = this.state.currentDate;\n      var _props2 = this.props,\n          selectedValue = _props2.selectedValue,\n          value = _props2.value,\n          onChange = _props2.onChange; // comparing array format of selectedValue with object form of the state if not null\n\n      var formattedSelectedValue = Array.isArray(selectedValue) && selectedValue.length ? [this.formatInputDate(selectedValue[0]), this.formatInputDate(selectedValue[1])] : [];\n\n      if (!(0, _helper.isEqual)(currentDate ? [this.formatInputDate(currentDate.start), this.formatInputDate(currentDate.end)] // prettier-ignore\n      : null, formattedSelectedValue) && !(0, _helper.isEqual)(prevProps.selectedValue, selectedValue)) {\n        var modDate = selectedValue ? {\n          start: this.props.selectedValue[0] || '',\n          end: this.props.selectedValue[1] || '' // prettier-ignore\n\n        } : {\n          start: '',\n          end: ''\n        };\n\n        if ((value === undefined || value && value.start === '' && value.end === '') && !onChange) {\n          this.handleDateChange(modDate, true, this.props);\n        } else if (onChange) {\n          onChange(modDate);\n        }\n      }\n    }\n\n    (0, _helper.checkSomePropChange)(this.props, prevProps, ['dataField', 'nestedField'], function () {\n      return _this2.updateQuery(_this2.state.currentDate ? {\n        // we need the date in correct queryFormat\n        start: (0, _helper.formatDate)(_this2.state.currentDate.start, _this2.props),\n        end: (0, _helper.formatDate)(_this2.state.currentDate.end, _this2.props) // prettier-ignore\n\n      } : _this2.state.currentDate, _this2.props);\n    });\n  };\n\n  DateRange.prototype.render = function render() {\n    var _state = this.state,\n        currentDate = _state.currentDate,\n        dateHovered = _state.dateHovered;\n    var start = currentDate ? currentDate.start : '';\n    var end = currentDate ? currentDate.end : '';\n    var endDay = currentDate ? dateHovered : '';\n    var selectedDays = [start, {\n      from: start,\n      to: endDay\n    }];\n    var modifiers = {\n      start: start,\n      end: endDay\n    };\n    return _react2.default.createElement(_DateContainer2.default, {\n      range: true,\n      style: this.props.style,\n      className: this.props.className,\n      showBorder: !this.props.showClear\n    }, this.props.title && _react2.default.createElement(_Title2.default, {\n      className: (0, _helper.getClassName)(this.props.innerClass, 'title') || null\n    }, this.props.title), _react2.default.createElement(_Flex2.default, {\n      className: (0, _helper.getClassName)(this.props.innerClass, 'input-container') || null\n    }, _react2.default.createElement(_Flex2.default, {\n      flex: 2,\n      showBorder: this.props.showClear,\n      iconPosition: 'right',\n      style: {\n        background: this.props.theme.colors.backgroundColor || 'transparent'\n      }\n    }, _react2.default.createElement(_DayPickerInput2.default, _extends({\n      ref: this.getStartDateRef,\n      showOverlay: this.props.focused,\n      formatDate: this.formatInputDate,\n      value: start,\n      key: this.state.startKey,\n      placeholder: this.props.placeholder.start,\n      dayPickerProps: {\n        numberOfMonths: this.props.numberOfMonths,\n        initialMonth: this.props.initialMonth,\n        disabledDays: {\n          after: this.state.currentDate ? this.state.currentDate.end : ''\n        },\n        selectedDays: selectedDays,\n        modifiers: modifiers\n      },\n      inputProps: {\n        'aria-label': this.props.componentId + '-start-input'\n      },\n      onDayChange: this.handleStartDate,\n      classNames: {\n        container: (0, _helper.getClassName)(this.props.innerClass, 'daypicker-container') || 'DayPickerInput',\n        overlayWrapper: (0, _helper.getClassName)(this.props.innerClass, 'daypicker-overlay-wrapper') || 'DayPickerInput-OverlayWrapper',\n        overlay: (0, _helper.getClassName)(this.props.innerClass, 'daypicker-overlay') || 'DayPickerInput-Overlay'\n      }\n    }, this.props.dayPickerInputProps)), this.props.showClear && this.state.currentDate && this.state.currentDate.start && _react2.default.createElement(_CancelSvg2.default, {\n      onClick: this.clearDayPickerStart\n    })), _react2.default.createElement(_Flex2.default, {\n      justifyContent: 'center',\n      alignItems: 'center',\n      basis: '20px'\n    }, '-'), _react2.default.createElement(_Flex2.default, {\n      flex: 2,\n      showBorder: this.props.showClear,\n      iconPosition: 'right',\n      style: {\n        background: this.props.theme.colors.backgroundColor || 'transparent'\n      }\n    }, _react2.default.createElement(_DayPickerInput2.default, _extends({\n      ref: this.getEndDateRef,\n      showOverlay: this.props.focused,\n      formatDate: this.formatInputDate,\n      value: end,\n      key: this.state.endKey,\n      placeholder: this.props.placeholder.end,\n      dayPickerProps: {\n        numberOfMonths: this.props.numberOfMonths,\n        initialMonth: this.props.initialMonth,\n        onDayMouseEnter: this.handleDayMouseEnter,\n        disabledDays: {\n          before: this.state.currentDate ? this.state.currentDate.start : ''\n        },\n        selectedDays: selectedDays,\n        modifiers: modifiers\n      },\n      inputProps: {\n        'aria-label': this.props.componentId + '-end-input'\n      },\n      onDayChange: this.handleEndDate,\n      classNames: {\n        container: (0, _helper.getClassName)(this.props.innerClass, 'daypicker-container') || 'DayPickerInput',\n        overlayWrapper: (0, _helper.getClassName)(this.props.innerClass, 'daypicker-overlay-wrapper') || 'DayPickerInput-OverlayWrapper',\n        overlay: (0, _helper.getClassName)(this.props.innerClass, 'daypicker-overlay') || 'DayPickerInput-Overlay'\n      }\n    }, this.props.dayPickerInputProps)), this.props.showClear && this.state.currentDate && this.state.currentDate.end && _react2.default.createElement(_CancelSvg2.default, {\n      onClick: this.clearDayPickerEnd\n    }))));\n  };\n\n  return DateRange;\n}(_react.Component);\n\nDateRange.defaultQuery = function (value, props) {\n  var query = null;\n\n  if (value) {\n    if (Array.isArray(props.dataField) && props.dataField.length === 2) {\n      var _range, _range2;\n\n      query = {\n        bool: {\n          must: [{\n            range: (_range = {}, _range[props.dataField[0]] = {\n              lte: (0, _helper.formatDate)(new _xdate2.default(value.start), props)\n            }, _range)\n          }, {\n            range: (_range2 = {}, _range2[props.dataField[1]] = {\n              gte: (0, _helper.formatDate)(new _xdate2.default(value.end), props)\n            }, _range2)\n          }]\n        }\n      };\n    } else if (Array.isArray(props.dataField)) {\n      var _range3;\n\n      query = {\n        range: (_range3 = {}, _range3[props.dataField[0]] = {\n          gte: (0, _helper.formatDate)(new _xdate2.default(value.start), props),\n          lte: (0, _helper.formatDate)(new _xdate2.default(value.end), props)\n        }, _range3)\n      };\n    } else {\n      var _range4;\n\n      query = {\n        range: (_range4 = {}, _range4[props.dataField] = {\n          gte: (0, _helper.formatDate)(new _xdate2.default(value.start), props),\n          lte: (0, _helper.formatDate)(new _xdate2.default(value.end), props)\n        }, _range4)\n      };\n    }\n  }\n\n  if (query && props.nestedField) {\n    return {\n      nested: {\n        path: props.nestedField,\n        query: query\n      }\n    };\n  }\n\n  return query;\n};\n\nvar _initialiseProps = function _initialiseProps() {\n  var _this3 = this;\n\n  this.formatInputDate = function (date) {\n    var xdate = new _xdate2.default(date);\n    return xdate.valid() ? xdate.toString('yyyy-MM-dd') : '';\n  };\n\n  this.getEndDateRef = function (ref) {\n    _this3.endDateRef = ref;\n  };\n\n  this.getStartDateRef = function (ref) {\n    _this3.startDateRef = ref;\n  };\n\n  this.clearDayPickerStart = function () {\n    if (_this3.state.currentDate && _this3.state.currentDate.start !== '') {\n      var _props3 = _this3.props,\n          value = _props3.value,\n          onChange = _props3.onChange;\n\n      if (value === undefined && !onChange) {\n        _this3.handleStartDate('', false); // resets the day picker component\n\n      } else if (onChange) {\n        onChange({\n          start: '',\n          end: _this3.state.currentDate.end\n        });\n      } else {\n        // Since value prop is defined and onChange is not define\n        // we keep the same date as in store\n        _this3.setState({\n          currentDate: _this3.state.currentDate\n        });\n      }\n    }\n  };\n\n  this.clearDayPickerEnd = function () {\n    if (_this3.state.currentDate && _this3.state.currentDate.end !== '') {\n      _this3.handleEndDate(''); // resets the day picker component\n\n\n      var _props4 = _this3.props,\n          value = _props4.value,\n          onChange = _props4.onChange;\n\n      if (value === undefined && !onChange) {\n        _this3.handleEndDate('', false); // resets the day picker component\n\n      } else if (onChange) {\n        onChange({\n          start: _this3.state.currentDate.start,\n          end: ''\n        });\n      } else {\n        // Since value prop is defined and onChange is not define\n        // we keep the same date as in store\n        _this3.setState({\n          currentDate: _this3.state.currentDate\n        });\n      }\n    }\n  };\n\n  this.handleStartDate = function (date) {\n    var autoFocus = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : true;\n    var currentDate = _this3.state.currentDate;\n    var end = currentDate ? currentDate.end : '';\n    var _props5 = _this3.props,\n        value = _props5.value,\n        onChange = _props5.onChange;\n\n    if ((value === undefined || value && value.start === '') && !onChange) {\n      if (_this3.startDateRef.getInput().value.length === 10) {\n        _this3.handleDateChange({\n          start: date,\n          end: end\n        });\n\n        _this3.setState(function (state) {\n          return {\n            startKey: state.startKey === 'on-start' ? 'off-start' : 'on-start'\n          };\n        }); // focus the end date DayPicker if its empty\n\n\n        if (_this3.props.autoFocusEnd && autoFocus) {\n          _this3.endDateRef.getInput().focus();\n        }\n      }\n    } else if (onChange) {\n      if (_this3.startDateRef.getInput().value.length === 10) {\n        onChange({\n          start: date,\n          end: end\n        }); // focus the end date DayPicker if its empty\n\n        if (_this3.props.autoFocusEnd && autoFocus) {\n          _this3.endDateRef.getInput().focus();\n        } // this will trigger a remount on the date component\n        // since DayPickerInput doesn't respect the controlled behavior setting on its own\n\n\n        _this3.setState(function (state) {\n          return {\n            startKey: state.startKey === 'on-start' ? 'off-start' : 'on-start'\n          };\n        });\n      }\n    } else {\n      // this will trigger a remount on the date component\n      // since DayPickerInput doesn't respect the controlled behavior setting on its own\n      _this3.setState(function (state) {\n        return {\n          startKey: state.startKey === 'on-start' ? 'off-start' : 'on-start'\n        };\n      });\n    }\n  };\n\n  this.handleEndDate = function (selectedDay) {\n    var currentDate = _this3.state.currentDate;\n    var _props6 = _this3.props,\n        value = _props6.value,\n        onChange = _props6.onChange;\n    var start = currentDate ? currentDate.start : '';\n\n    if ((value === undefined || value && value.end === '') && !onChange) {\n      if (_this3.endDateRef.getInput().value.length === 10) {\n        _this3.handleDayMouseEnter(selectedDay);\n\n        _this3.handleDateChange({\n          start: currentDate ? currentDate.start : '',\n          end: selectedDay\n        });\n\n        _this3.setState(function (state) {\n          return {\n            endKey: state.endKey === 'on-end' ? 'off-end' : 'on-end'\n          };\n        });\n      }\n    } else if (onChange) {\n      if (_this3.endDateRef.getInput().value.length === 10) {\n        onChange({\n          start: start,\n          end: selectedDay\n        });\n      } // this will trigger a remount on the date component\n      // since DayPickerInput doesn't respect the controlled behavior setting on its own\n\n\n      _this3.setState(function (state) {\n        return {\n          endKey: state.endKey === 'on-end' ? 'off-end' : 'on-end'\n        };\n      });\n    } else {\n      // this will trigger a remount on the date component\n      // since DayPickerInput doesn't respect the controlled behavior setting on its own\n      _this3.setState(function (state) {\n        return {\n          endKey: state.endKey === 'on-end' ? 'off-end' : 'on-end'\n        };\n      });\n    }\n  };\n\n  this.handleDayMouseEnter = function (day) {\n    _this3.setState({\n      dateHovered: day\n    });\n  };\n\n  this.handleDateChange = function (currentDate) {\n    var isDefaultValue = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n    var props = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : _this3.props;\n    var hasMounted = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : true;\n    var value = null; // modCurrentDate would check if the currentValue passed is\n    // in correct format or not\n    // when setting value from outside this component\n    // the selectedvalue passed was in a different format and\n    // thus breaking the code\n\n    var modCurrentDate = currentDate;\n\n    if (typeof currentDate.start === 'string' || typeof currentDate.end === 'string') {\n      modCurrentDate = {\n        start: currentDate.start ? new _xdate2.default(currentDate.start)[0] : '',\n        end: currentDate.end ? new _xdate2.default(currentDate.end)[0] : ''\n      };\n    }\n\n    if (modCurrentDate && !(modCurrentDate.start === '' && modCurrentDate.end === '')) {\n      value = {\n        start: _this3.formatInputDate(modCurrentDate.start),\n        end: _this3.formatInputDate(modCurrentDate.end)\n      }; // prettier-ignore\n    }\n\n    var performUpdate = function performUpdate() {\n      var handleUpdates = function handleUpdates() {\n        _this3.updateQuery(value, props);\n\n        if (props.onValueChange) props.onValueChange(value);\n      };\n\n      if (hasMounted) {\n        _this3.setState({\n          currentDate: modCurrentDate\n        }, handleUpdates);\n      } else {\n        handleUpdates();\n      }\n    };\n\n    (0, _helper.checkValueChange)(props.componentId, value, props.beforeValueChange, performUpdate);\n  };\n\n  this.updateQuery = function (value, props) {\n    if (!value || value && value.start.length && value.end.length) {\n      var customQuery = props.customQuery;\n      var query = DateRange.defaultQuery(value, props);\n      var customQueryOptions = void 0;\n\n      if (customQuery) {\n        var customQueryObject = customQuery(value, props);\n        query = customQueryObject && customQueryObject.query;\n        customQueryOptions = (0, _helper.getOptionsFromQuery)(customQuery(value, props));\n        (0, _helper.updateCustomQuery)(props.componentId, props, value);\n      }\n\n      props.setQueryOptions(props.componentId, customQueryOptions);\n      props.updateQuery({\n        componentId: props.componentId,\n        query: query,\n        value: value ? [value.start, value.end] : null,\n        showFilter: props.showFilter,\n        label: props.filterLabel,\n        URLParams: props.URLParams,\n        componentType: _constants.componentTypes.dateRange\n      });\n    }\n  };\n};\n\nDateRange.propTypes = {\n  updateQuery: _types2.default.funcRequired,\n  selectedValue: _types2.default.selectedValue,\n  setQueryOptions: _types2.default.funcRequired,\n  setCustomQuery: _types2.default.funcRequired,\n  enableAppbase: _types2.default.bool,\n  // component props\n  autoFocusEnd: _types2.default.bool,\n  beforeValueChange: _types2.default.func,\n  className: _types2.default.string,\n  componentId: _types2.default.stringRequired,\n  dataField: _types2.default.dataFieldArray,\n  dayPickerInputProps: _types2.default.props,\n  defaultValue: _types2.default.dateObject,\n  value: _types2.default.dateObject,\n  filterLabel: _types2.default.string,\n  focused: _types2.default.bool,\n  initialMonth: _types2.default.dateObject,\n  innerClass: _types2.default.style,\n  numberOfMonths: _types2.default.number,\n  onQueryChange: _types2.default.func,\n  onValueChange: _types2.default.func,\n  onChange: _types2.default.func,\n  placeholder: _types2.default.rangeLabels,\n  nestedField: _types2.default.string,\n  queryFormat: _types2.default.queryFormatDate,\n  parseDate: _types2.default.func,\n  react: _types2.default.react,\n  showClear: _types2.default.bool,\n  showFilter: _types2.default.bool,\n  style: _types2.default.style,\n  theme: _types2.default.style,\n  title: _types2.default.string,\n  index: _types2.default.string\n};\nDateRange.defaultProps = {\n  autoFocusEnd: true,\n  numberOfMonths: 2,\n  placeholder: {\n    start: 'Start date',\n    end: 'End date'\n  },\n  showClear: true,\n  showFilter: true,\n  queryFormat: 'epoch_millis'\n}; // Add componentType for SSR\n\nDateRange.componentType = _constants.componentTypes.dateRange;\n\nvar mapStateToProps = function mapStateToProps(state, props) {\n  return {\n    selectedValue: state.selectedValues[props.componentId] ? state.selectedValues[props.componentId].value : null,\n    enableAppbase: state.config.enableAppbase\n  };\n};\n\nvar mapDispatchtoProps = function mapDispatchtoProps(dispatch) {\n  return {\n    setCustomQuery: function setCustomQuery(component, query) {\n      return dispatch((0, _actions.setCustomQuery)(component, query));\n    },\n    updateQuery: function updateQuery(updateQueryObject) {\n      return dispatch((0, _actions.updateQuery)(updateQueryObject));\n    },\n    setQueryOptions: function setQueryOptions(component, props) {\n      return dispatch((0, _actions.setQueryOptions)(component, props));\n    }\n  };\n};\n\nvar ConnectedComponent = (0, _utils.connect)(mapStateToProps, mapDispatchtoProps)((0, _emotionTheming.withTheme)(function (props) {\n  return _react2.default.createElement(_ComponentWrapper2.default, _extends({}, props, {\n    componentType: _constants.componentTypes.dateRange\n  }), function () {\n    return _react2.default.createElement(DateRange, _extends({\n      ref: props.myForwardedRef\n    }, props));\n  });\n})); // eslint-disable-next-line\n\nvar ForwardRefComponent = _react2.default.forwardRef(function (props, ref) {\n  return _react2.default.createElement(ConnectedComponent, _extends({}, props, {\n    myForwardedRef: ref\n  }));\n});\n\n(0, _hoistNonReactStatics2.default)(ForwardRefComponent, DateRange);\nForwardRefComponent.displayName = 'DateRange';\nexports.default = ForwardRefComponent;","map":{"version":3,"sources":["C:/Users/hiro/react_project/react_search/react_search/frontend/node_modules/@appbaseio/reactivesearch/lib/components/date/DateRange.js"],"names":["exports","__esModule","_extends","Object","assign","target","i","arguments","length","source","key","prototype","hasOwnProperty","call","_react","require","_react2","_interopRequireDefault","_actions","_hoistNonReactStatics","_hoistNonReactStatics2","_helper","_types","_types2","_xdate","_xdate2","_constants","_DayPickerInput","_DayPickerInput2","_emotionTheming","_DateContainer","_DateContainer2","_Title","_Title2","_Flex","_Flex2","_utils","_CancelSvg","_CancelSvg2","_ComponentWrapper","_ComponentWrapper2","obj","default","_classCallCheck","instance","Constructor","TypeError","_possibleConstructorReturn","self","ReferenceError","_inherits","subClass","superClass","create","constructor","value","enumerable","writable","configurable","setPrototypeOf","__proto__","DateRange","_Component","props","_this","_initialiseProps","currentDate","defaultValue","selectedValue","Array","isArray","start","end","_props$selectedValue","state","dateHovered","startKey","endKey","hasMounted","updateCustomQuery","componentId","handleDateChange","componentDidMount","_props","enableAppbase","index","console","warn","componentDidUpdate","prevProps","_this2","isEqual","JSON","stringify","_props2","onChange","formattedSelectedValue","formatInputDate","modDate","undefined","checkSomePropChange","updateQuery","formatDate","render","_state","endDay","selectedDays","from","to","modifiers","createElement","range","style","className","showBorder","showClear","title","getClassName","innerClass","flex","iconPosition","background","theme","colors","backgroundColor","ref","getStartDateRef","showOverlay","focused","placeholder","dayPickerProps","numberOfMonths","initialMonth","disabledDays","after","inputProps","onDayChange","handleStartDate","classNames","container","overlayWrapper","overlay","dayPickerInputProps","onClick","clearDayPickerStart","justifyContent","alignItems","basis","getEndDateRef","onDayMouseEnter","handleDayMouseEnter","before","handleEndDate","clearDayPickerEnd","Component","defaultQuery","query","dataField","_range","_range2","bool","must","lte","gte","_range3","_range4","nestedField","nested","path","_this3","date","xdate","valid","toString","endDateRef","startDateRef","_props3","setState","_props4","autoFocus","_props5","getInput","autoFocusEnd","focus","selectedDay","_props6","day","isDefaultValue","modCurrentDate","performUpdate","handleUpdates","onValueChange","checkValueChange","beforeValueChange","customQuery","customQueryOptions","customQueryObject","getOptionsFromQuery","setQueryOptions","showFilter","label","filterLabel","URLParams","componentType","componentTypes","dateRange","propTypes","funcRequired","setCustomQuery","func","string","stringRequired","dataFieldArray","dateObject","number","onQueryChange","rangeLabels","queryFormat","queryFormatDate","parseDate","react","defaultProps","mapStateToProps","selectedValues","config","mapDispatchtoProps","dispatch","component","updateQueryObject","ConnectedComponent","connect","withTheme","myForwardedRef","ForwardRefComponent","forwardRef","displayName"],"mappings":"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","sourcesContent":["'use strict';\n\nexports.__esModule = true;\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _actions = require('@appbaseio/reactivecore/lib/actions');\n\nvar _hoistNonReactStatics = require('hoist-non-react-statics');\n\nvar _hoistNonReactStatics2 = _interopRequireDefault(_hoistNonReactStatics);\n\nvar _helper = require('@appbaseio/reactivecore/lib/utils/helper');\n\nvar _types = require('@appbaseio/reactivecore/lib/utils/types');\n\nvar _types2 = _interopRequireDefault(_types);\n\nvar _xdate = require('xdate');\n\nvar _xdate2 = _interopRequireDefault(_xdate);\n\nvar _constants = require('@appbaseio/reactivecore/lib/utils/constants');\n\nvar _DayPickerInput = require('react-day-picker/DayPickerInput');\n\nvar _DayPickerInput2 = _interopRequireDefault(_DayPickerInput);\n\nvar _emotionTheming = require('emotion-theming');\n\nvar _DateContainer = require('../../styles/DateContainer');\n\nvar _DateContainer2 = _interopRequireDefault(_DateContainer);\n\nvar _Title = require('../../styles/Title');\n\nvar _Title2 = _interopRequireDefault(_Title);\n\nvar _Flex = require('../../styles/Flex');\n\nvar _Flex2 = _interopRequireDefault(_Flex);\n\nvar _utils = require('../../utils');\n\nvar _CancelSvg = require('../shared/CancelSvg');\n\nvar _CancelSvg2 = _interopRequireDefault(_CancelSvg);\n\nvar _ComponentWrapper = require('../basic/ComponentWrapper');\n\nvar _ComponentWrapper2 = _interopRequireDefault(_ComponentWrapper);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar DateRange = function (_Component) {\n\t_inherits(DateRange, _Component);\n\n\tfunction DateRange(props) {\n\t\t_classCallCheck(this, DateRange);\n\n\t\tvar _this = _possibleConstructorReturn(this, _Component.call(this, props));\n\n\t\t_initialiseProps.call(_this);\n\n\t\tvar currentDate = props.defaultValue || props.value || null;\n\t\tif (props.selectedValue) {\n\t\t\tif (Array.isArray(props.selectedValue)) {\n\t\t\t\tcurrentDate = {\n\t\t\t\t\tstart: new _xdate2.default(props.selectedValue[0])[0],\n\t\t\t\t\tend: new _xdate2.default(props.selectedValue[1])[0]\n\t\t\t\t};\n\t\t\t} else {\n\t\t\t\tvar _props$selectedValue = props.selectedValue,\n\t\t\t\t    start = _props$selectedValue.start,\n\t\t\t\t    end = _props$selectedValue.end;\n\n\t\t\t\tcurrentDate = {\n\t\t\t\t\tstart: new _xdate2.default(start)[0],\n\t\t\t\t\tend: new _xdate2.default(end)[0]\n\t\t\t\t};\n\t\t\t}\n\t\t}\n\n\t\t_this.state = {\n\t\t\tcurrentDate: currentDate,\n\t\t\tdateHovered: null,\n\t\t\tstartKey: 'on-start',\n\t\t\tendKey: 'on-end'\n\t\t};\n\t\tvar hasMounted = false;\n\n\t\t// Set custom query in store\n\t\t(0, _helper.updateCustomQuery)(props.componentId, props, _this.state.currentDate);\n\n\t\tif (currentDate) {\n\t\t\t_this.handleDateChange(currentDate, false, props, hasMounted);\n\t\t}\n\t\treturn _this;\n\t}\n\n\tDateRange.prototype.componentDidMount = function componentDidMount() {\n\t\tvar _props = this.props,\n\t\t    enableAppbase = _props.enableAppbase,\n\t\t    index = _props.index;\n\n\t\tif (!enableAppbase && index) {\n\t\t\tconsole.warn('Warning(ReactiveSearch): In order to use the `index` prop, the `enableAppbase` prop must be set to true in `ReactiveBase`.');\n\t\t}\n\t};\n\n\tDateRange.prototype.componentDidUpdate = function componentDidUpdate(prevProps) {\n\t\tvar _this2 = this;\n\n\t\tif (!(0, _helper.isEqual)(JSON.stringify(this.props.value), JSON.stringify(prevProps.value))) {\n\t\t\tthis.handleDateChange(this.props.value, false, this.props);\n\t\t} else {\n\t\t\tvar currentDate = this.state.currentDate;\n\t\t\tvar _props2 = this.props,\n\t\t\t    selectedValue = _props2.selectedValue,\n\t\t\t    value = _props2.value,\n\t\t\t    onChange = _props2.onChange;\n\t\t\t// comparing array format of selectedValue with object form of the state if not null\n\n\t\t\tvar formattedSelectedValue = Array.isArray(selectedValue) && selectedValue.length ? [this.formatInputDate(selectedValue[0]), this.formatInputDate(selectedValue[1])] : [];\n\t\t\tif (!(0, _helper.isEqual)(currentDate ? [this.formatInputDate(currentDate.start), this.formatInputDate(currentDate.end)] // prettier-ignore\n\t\t\t: null, formattedSelectedValue) && !(0, _helper.isEqual)(prevProps.selectedValue, selectedValue)) {\n\t\t\t\tvar modDate = selectedValue ? {\n\t\t\t\t\tstart: this.props.selectedValue[0] || '',\n\t\t\t\t\tend: this.props.selectedValue[1] || '' // prettier-ignore\n\t\t\t\t} : { start: '', end: '' };\n\t\t\t\tif ((value === undefined || value && value.start === '' && value.end === '') && !onChange) {\n\t\t\t\t\tthis.handleDateChange(modDate, true, this.props);\n\t\t\t\t} else if (onChange) {\n\t\t\t\t\tonChange(modDate);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\t(0, _helper.checkSomePropChange)(this.props, prevProps, ['dataField', 'nestedField'], function () {\n\t\t\treturn _this2.updateQuery(_this2.state.currentDate ? {\n\t\t\t\t// we need the date in correct queryFormat\n\t\t\t\tstart: (0, _helper.formatDate)(_this2.state.currentDate.start, _this2.props),\n\t\t\t\tend: (0, _helper.formatDate)(_this2.state.currentDate.end, _this2.props) // prettier-ignore\n\t\t\t} : _this2.state.currentDate, _this2.props);\n\t\t});\n\t};\n\n\tDateRange.prototype.render = function render() {\n\t\tvar _state = this.state,\n\t\t    currentDate = _state.currentDate,\n\t\t    dateHovered = _state.dateHovered;\n\n\t\tvar start = currentDate ? currentDate.start : '';\n\t\tvar end = currentDate ? currentDate.end : '';\n\t\tvar endDay = currentDate ? dateHovered : '';\n\t\tvar selectedDays = [start, { from: start, to: endDay }];\n\t\tvar modifiers = { start: start, end: endDay };\n\t\treturn _react2.default.createElement(\n\t\t\t_DateContainer2.default,\n\t\t\t{\n\t\t\t\trange: true,\n\t\t\t\tstyle: this.props.style,\n\t\t\t\tclassName: this.props.className,\n\t\t\t\tshowBorder: !this.props.showClear\n\t\t\t},\n\t\t\tthis.props.title && _react2.default.createElement(\n\t\t\t\t_Title2.default,\n\t\t\t\t{ className: (0, _helper.getClassName)(this.props.innerClass, 'title') || null },\n\t\t\t\tthis.props.title\n\t\t\t),\n\t\t\t_react2.default.createElement(\n\t\t\t\t_Flex2.default,\n\t\t\t\t{ className: (0, _helper.getClassName)(this.props.innerClass, 'input-container') || null },\n\t\t\t\t_react2.default.createElement(\n\t\t\t\t\t_Flex2.default,\n\t\t\t\t\t{\n\t\t\t\t\t\tflex: 2,\n\t\t\t\t\t\tshowBorder: this.props.showClear,\n\t\t\t\t\t\ticonPosition: 'right',\n\t\t\t\t\t\tstyle: {\n\t\t\t\t\t\t\tbackground: this.props.theme.colors.backgroundColor || 'transparent'\n\t\t\t\t\t\t}\n\t\t\t\t\t},\n\t\t\t\t\t_react2.default.createElement(_DayPickerInput2.default, _extends({\n\t\t\t\t\t\tref: this.getStartDateRef,\n\t\t\t\t\t\tshowOverlay: this.props.focused,\n\t\t\t\t\t\tformatDate: this.formatInputDate,\n\t\t\t\t\t\tvalue: start,\n\t\t\t\t\t\tkey: this.state.startKey,\n\t\t\t\t\t\tplaceholder: this.props.placeholder.start,\n\t\t\t\t\t\tdayPickerProps: {\n\t\t\t\t\t\t\tnumberOfMonths: this.props.numberOfMonths,\n\t\t\t\t\t\t\tinitialMonth: this.props.initialMonth,\n\t\t\t\t\t\t\tdisabledDays: {\n\t\t\t\t\t\t\t\tafter: this.state.currentDate ? this.state.currentDate.end : ''\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\tselectedDays: selectedDays,\n\t\t\t\t\t\t\tmodifiers: modifiers\n\t\t\t\t\t\t},\n\t\t\t\t\t\tinputProps: {\n\t\t\t\t\t\t\t'aria-label': this.props.componentId + '-start-input'\n\t\t\t\t\t\t},\n\t\t\t\t\t\tonDayChange: this.handleStartDate,\n\t\t\t\t\t\tclassNames: {\n\t\t\t\t\t\t\tcontainer: (0, _helper.getClassName)(this.props.innerClass, 'daypicker-container') || 'DayPickerInput',\n\t\t\t\t\t\t\toverlayWrapper: (0, _helper.getClassName)(this.props.innerClass, 'daypicker-overlay-wrapper') || 'DayPickerInput-OverlayWrapper',\n\t\t\t\t\t\t\toverlay: (0, _helper.getClassName)(this.props.innerClass, 'daypicker-overlay') || 'DayPickerInput-Overlay'\n\t\t\t\t\t\t}\n\t\t\t\t\t}, this.props.dayPickerInputProps)),\n\t\t\t\t\tthis.props.showClear && this.state.currentDate && this.state.currentDate.start && _react2.default.createElement(_CancelSvg2.default, { onClick: this.clearDayPickerStart })\n\t\t\t\t),\n\t\t\t\t_react2.default.createElement(\n\t\t\t\t\t_Flex2.default,\n\t\t\t\t\t{ justifyContent: 'center', alignItems: 'center', basis: '20px' },\n\t\t\t\t\t'-'\n\t\t\t\t),\n\t\t\t\t_react2.default.createElement(\n\t\t\t\t\t_Flex2.default,\n\t\t\t\t\t{\n\t\t\t\t\t\tflex: 2,\n\t\t\t\t\t\tshowBorder: this.props.showClear,\n\t\t\t\t\t\ticonPosition: 'right',\n\t\t\t\t\t\tstyle: {\n\t\t\t\t\t\t\tbackground: this.props.theme.colors.backgroundColor || 'transparent'\n\t\t\t\t\t\t}\n\t\t\t\t\t},\n\t\t\t\t\t_react2.default.createElement(_DayPickerInput2.default, _extends({\n\t\t\t\t\t\tref: this.getEndDateRef,\n\t\t\t\t\t\tshowOverlay: this.props.focused,\n\t\t\t\t\t\tformatDate: this.formatInputDate,\n\t\t\t\t\t\tvalue: end,\n\t\t\t\t\t\tkey: this.state.endKey,\n\t\t\t\t\t\tplaceholder: this.props.placeholder.end,\n\t\t\t\t\t\tdayPickerProps: {\n\t\t\t\t\t\t\tnumberOfMonths: this.props.numberOfMonths,\n\t\t\t\t\t\t\tinitialMonth: this.props.initialMonth,\n\t\t\t\t\t\t\tonDayMouseEnter: this.handleDayMouseEnter,\n\t\t\t\t\t\t\tdisabledDays: {\n\t\t\t\t\t\t\t\tbefore: this.state.currentDate ? this.state.currentDate.start : ''\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\tselectedDays: selectedDays,\n\t\t\t\t\t\t\tmodifiers: modifiers\n\t\t\t\t\t\t},\n\t\t\t\t\t\tinputProps: {\n\t\t\t\t\t\t\t'aria-label': this.props.componentId + '-end-input'\n\t\t\t\t\t\t},\n\t\t\t\t\t\tonDayChange: this.handleEndDate,\n\t\t\t\t\t\tclassNames: {\n\t\t\t\t\t\t\tcontainer: (0, _helper.getClassName)(this.props.innerClass, 'daypicker-container') || 'DayPickerInput',\n\t\t\t\t\t\t\toverlayWrapper: (0, _helper.getClassName)(this.props.innerClass, 'daypicker-overlay-wrapper') || 'DayPickerInput-OverlayWrapper',\n\t\t\t\t\t\t\toverlay: (0, _helper.getClassName)(this.props.innerClass, 'daypicker-overlay') || 'DayPickerInput-Overlay'\n\t\t\t\t\t\t}\n\t\t\t\t\t}, this.props.dayPickerInputProps)),\n\t\t\t\t\tthis.props.showClear && this.state.currentDate && this.state.currentDate.end && _react2.default.createElement(_CancelSvg2.default, { onClick: this.clearDayPickerEnd })\n\t\t\t\t)\n\t\t\t)\n\t\t);\n\t};\n\n\treturn DateRange;\n}(_react.Component);\n\nDateRange.defaultQuery = function (value, props) {\n\tvar query = null;\n\tif (value) {\n\t\tif (Array.isArray(props.dataField) && props.dataField.length === 2) {\n\t\t\tvar _range, _range2;\n\n\t\t\tquery = {\n\t\t\t\tbool: {\n\t\t\t\t\tmust: [{\n\t\t\t\t\t\trange: (_range = {}, _range[props.dataField[0]] = {\n\t\t\t\t\t\t\tlte: (0, _helper.formatDate)(new _xdate2.default(value.start), props)\n\t\t\t\t\t\t}, _range)\n\t\t\t\t\t}, {\n\t\t\t\t\t\trange: (_range2 = {}, _range2[props.dataField[1]] = {\n\t\t\t\t\t\t\tgte: (0, _helper.formatDate)(new _xdate2.default(value.end), props)\n\t\t\t\t\t\t}, _range2)\n\t\t\t\t\t}]\n\t\t\t\t}\n\t\t\t};\n\t\t} else if (Array.isArray(props.dataField)) {\n\t\t\tvar _range3;\n\n\t\t\tquery = {\n\t\t\t\trange: (_range3 = {}, _range3[props.dataField[0]] = {\n\t\t\t\t\tgte: (0, _helper.formatDate)(new _xdate2.default(value.start), props),\n\t\t\t\t\tlte: (0, _helper.formatDate)(new _xdate2.default(value.end), props)\n\t\t\t\t}, _range3)\n\t\t\t};\n\t\t} else {\n\t\t\tvar _range4;\n\n\t\t\tquery = {\n\t\t\t\trange: (_range4 = {}, _range4[props.dataField] = {\n\t\t\t\t\tgte: (0, _helper.formatDate)(new _xdate2.default(value.start), props),\n\t\t\t\t\tlte: (0, _helper.formatDate)(new _xdate2.default(value.end), props)\n\t\t\t\t}, _range4)\n\t\t\t};\n\t\t}\n\t}\n\n\tif (query && props.nestedField) {\n\t\treturn {\n\t\t\tnested: {\n\t\t\t\tpath: props.nestedField,\n\t\t\t\tquery: query\n\t\t\t}\n\t\t};\n\t}\n\n\treturn query;\n};\n\nvar _initialiseProps = function _initialiseProps() {\n\tvar _this3 = this;\n\n\tthis.formatInputDate = function (date) {\n\t\tvar xdate = new _xdate2.default(date);\n\t\treturn xdate.valid() ? xdate.toString('yyyy-MM-dd') : '';\n\t};\n\n\tthis.getEndDateRef = function (ref) {\n\t\t_this3.endDateRef = ref;\n\t};\n\n\tthis.getStartDateRef = function (ref) {\n\t\t_this3.startDateRef = ref;\n\t};\n\n\tthis.clearDayPickerStart = function () {\n\t\tif (_this3.state.currentDate && _this3.state.currentDate.start !== '') {\n\t\t\tvar _props3 = _this3.props,\n\t\t\t    value = _props3.value,\n\t\t\t    onChange = _props3.onChange;\n\n\n\t\t\tif (value === undefined && !onChange) {\n\t\t\t\t_this3.handleStartDate('', false); // resets the day picker component\n\t\t\t} else if (onChange) {\n\t\t\t\tonChange({ start: '', end: _this3.state.currentDate.end });\n\t\t\t} else {\n\t\t\t\t// Since value prop is defined and onChange is not define\n\t\t\t\t// we keep the same date as in store\n\t\t\t\t_this3.setState({\n\t\t\t\t\tcurrentDate: _this3.state.currentDate\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\t};\n\n\tthis.clearDayPickerEnd = function () {\n\t\tif (_this3.state.currentDate && _this3.state.currentDate.end !== '') {\n\t\t\t_this3.handleEndDate(''); // resets the day picker component\n\t\t\tvar _props4 = _this3.props,\n\t\t\t    value = _props4.value,\n\t\t\t    onChange = _props4.onChange;\n\n\n\t\t\tif (value === undefined && !onChange) {\n\t\t\t\t_this3.handleEndDate('', false); // resets the day picker component\n\t\t\t} else if (onChange) {\n\t\t\t\tonChange({ start: _this3.state.currentDate.start, end: '' });\n\t\t\t} else {\n\t\t\t\t// Since value prop is defined and onChange is not define\n\t\t\t\t// we keep the same date as in store\n\t\t\t\t_this3.setState({\n\t\t\t\t\tcurrentDate: _this3.state.currentDate\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\t};\n\n\tthis.handleStartDate = function (date) {\n\t\tvar autoFocus = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : true;\n\t\tvar currentDate = _this3.state.currentDate;\n\n\t\tvar end = currentDate ? currentDate.end : '';\n\t\tvar _props5 = _this3.props,\n\t\t    value = _props5.value,\n\t\t    onChange = _props5.onChange;\n\n\t\tif ((value === undefined || value && value.start === '') && !onChange) {\n\t\t\tif (_this3.startDateRef.getInput().value.length === 10) {\n\t\t\t\t_this3.handleDateChange({\n\t\t\t\t\tstart: date,\n\t\t\t\t\tend: end\n\t\t\t\t});\n\t\t\t\t_this3.setState(function (state) {\n\t\t\t\t\treturn {\n\t\t\t\t\t\tstartKey: state.startKey === 'on-start' ? 'off-start' : 'on-start'\n\t\t\t\t\t};\n\t\t\t\t});\n\t\t\t\t// focus the end date DayPicker if its empty\n\t\t\t\tif (_this3.props.autoFocusEnd && autoFocus) {\n\t\t\t\t\t_this3.endDateRef.getInput().focus();\n\t\t\t\t}\n\t\t\t}\n\t\t} else if (onChange) {\n\t\t\tif (_this3.startDateRef.getInput().value.length === 10) {\n\t\t\t\tonChange({\n\t\t\t\t\tstart: date,\n\t\t\t\t\tend: end\n\t\t\t\t});\n\t\t\t\t// focus the end date DayPicker if its empty\n\t\t\t\tif (_this3.props.autoFocusEnd && autoFocus) {\n\t\t\t\t\t_this3.endDateRef.getInput().focus();\n\t\t\t\t}\n\t\t\t\t// this will trigger a remount on the date component\n\t\t\t\t// since DayPickerInput doesn't respect the controlled behavior setting on its own\n\t\t\t\t_this3.setState(function (state) {\n\t\t\t\t\treturn {\n\t\t\t\t\t\tstartKey: state.startKey === 'on-start' ? 'off-start' : 'on-start'\n\t\t\t\t\t};\n\t\t\t\t});\n\t\t\t}\n\t\t} else {\n\t\t\t// this will trigger a remount on the date component\n\t\t\t// since DayPickerInput doesn't respect the controlled behavior setting on its own\n\t\t\t_this3.setState(function (state) {\n\t\t\t\treturn {\n\t\t\t\t\tstartKey: state.startKey === 'on-start' ? 'off-start' : 'on-start'\n\t\t\t\t};\n\t\t\t});\n\t\t}\n\t};\n\n\tthis.handleEndDate = function (selectedDay) {\n\t\tvar currentDate = _this3.state.currentDate;\n\t\tvar _props6 = _this3.props,\n\t\t    value = _props6.value,\n\t\t    onChange = _props6.onChange;\n\n\t\tvar start = currentDate ? currentDate.start : '';\n\n\t\tif ((value === undefined || value && value.end === '') && !onChange) {\n\t\t\tif (_this3.endDateRef.getInput().value.length === 10) {\n\t\t\t\t_this3.handleDayMouseEnter(selectedDay);\n\t\t\t\t_this3.handleDateChange({\n\t\t\t\t\tstart: currentDate ? currentDate.start : '',\n\t\t\t\t\tend: selectedDay\n\t\t\t\t});\n\t\t\t\t_this3.setState(function (state) {\n\t\t\t\t\treturn {\n\t\t\t\t\t\tendKey: state.endKey === 'on-end' ? 'off-end' : 'on-end'\n\t\t\t\t\t};\n\t\t\t\t});\n\t\t\t}\n\t\t} else if (onChange) {\n\t\t\tif (_this3.endDateRef.getInput().value.length === 10) {\n\t\t\t\tonChange({\n\t\t\t\t\tstart: start,\n\t\t\t\t\tend: selectedDay\n\t\t\t\t});\n\t\t\t}\n\t\t\t// this will trigger a remount on the date component\n\t\t\t// since DayPickerInput doesn't respect the controlled behavior setting on its own\n\t\t\t_this3.setState(function (state) {\n\t\t\t\treturn {\n\t\t\t\t\tendKey: state.endKey === 'on-end' ? 'off-end' : 'on-end'\n\t\t\t\t};\n\t\t\t});\n\t\t} else {\n\t\t\t// this will trigger a remount on the date component\n\t\t\t// since DayPickerInput doesn't respect the controlled behavior setting on its own\n\t\t\t_this3.setState(function (state) {\n\t\t\t\treturn {\n\t\t\t\t\tendKey: state.endKey === 'on-end' ? 'off-end' : 'on-end'\n\t\t\t\t};\n\t\t\t});\n\t\t}\n\t};\n\n\tthis.handleDayMouseEnter = function (day) {\n\t\t_this3.setState({\n\t\t\tdateHovered: day\n\t\t});\n\t};\n\n\tthis.handleDateChange = function (currentDate) {\n\t\tvar isDefaultValue = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n\t\tvar props = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : _this3.props;\n\t\tvar hasMounted = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : true;\n\n\t\tvar value = null;\n\t\t// modCurrentDate would check if the currentValue passed is\n\t\t// in correct format or not\n\t\t// when setting value from outside this component\n\t\t// the selectedvalue passed was in a different format and\n\t\t// thus breaking the code\n\t\tvar modCurrentDate = currentDate;\n\t\tif (typeof currentDate.start === 'string' || typeof currentDate.end === 'string') {\n\t\t\tmodCurrentDate = {\n\t\t\t\tstart: currentDate.start ? new _xdate2.default(currentDate.start)[0] : '',\n\t\t\t\tend: currentDate.end ? new _xdate2.default(currentDate.end)[0] : ''\n\t\t\t};\n\t\t}\n\t\tif (modCurrentDate && !(modCurrentDate.start === '' && modCurrentDate.end === '')) {\n\t\t\tvalue = {\n\t\t\t\tstart: _this3.formatInputDate(modCurrentDate.start),\n\t\t\t\tend: _this3.formatInputDate(modCurrentDate.end)\n\t\t\t}; // prettier-ignore\n\t\t}\n\n\t\tvar performUpdate = function performUpdate() {\n\t\t\tvar handleUpdates = function handleUpdates() {\n\t\t\t\t_this3.updateQuery(value, props);\n\t\t\t\tif (props.onValueChange) props.onValueChange(value);\n\t\t\t};\n\n\t\t\tif (hasMounted) {\n\t\t\t\t_this3.setState({\n\t\t\t\t\tcurrentDate: modCurrentDate\n\t\t\t\t}, handleUpdates);\n\t\t\t} else {\n\t\t\t\thandleUpdates();\n\t\t\t}\n\t\t};\n\t\t(0, _helper.checkValueChange)(props.componentId, value, props.beforeValueChange, performUpdate);\n\t};\n\n\tthis.updateQuery = function (value, props) {\n\t\tif (!value || value && value.start.length && value.end.length) {\n\t\t\tvar customQuery = props.customQuery;\n\n\t\t\tvar query = DateRange.defaultQuery(value, props);\n\t\t\tvar customQueryOptions = void 0;\n\t\t\tif (customQuery) {\n\t\t\t\tvar customQueryObject = customQuery(value, props);\n\t\t\t\tquery = customQueryObject && customQueryObject.query;\n\t\t\t\tcustomQueryOptions = (0, _helper.getOptionsFromQuery)(customQuery(value, props));\n\t\t\t\t(0, _helper.updateCustomQuery)(props.componentId, props, value);\n\t\t\t}\n\t\t\tprops.setQueryOptions(props.componentId, customQueryOptions);\n\t\t\tprops.updateQuery({\n\t\t\t\tcomponentId: props.componentId,\n\t\t\t\tquery: query,\n\t\t\t\tvalue: value ? [value.start, value.end] : null,\n\t\t\t\tshowFilter: props.showFilter,\n\t\t\t\tlabel: props.filterLabel,\n\t\t\t\tURLParams: props.URLParams,\n\t\t\t\tcomponentType: _constants.componentTypes.dateRange\n\t\t\t});\n\t\t}\n\t};\n};\n\nDateRange.propTypes = {\n\tupdateQuery: _types2.default.funcRequired,\n\tselectedValue: _types2.default.selectedValue,\n\tsetQueryOptions: _types2.default.funcRequired,\n\tsetCustomQuery: _types2.default.funcRequired,\n\tenableAppbase: _types2.default.bool,\n\t// component props\n\tautoFocusEnd: _types2.default.bool,\n\tbeforeValueChange: _types2.default.func,\n\tclassName: _types2.default.string,\n\tcomponentId: _types2.default.stringRequired,\n\tdataField: _types2.default.dataFieldArray,\n\tdayPickerInputProps: _types2.default.props,\n\tdefaultValue: _types2.default.dateObject,\n\tvalue: _types2.default.dateObject,\n\tfilterLabel: _types2.default.string,\n\tfocused: _types2.default.bool,\n\tinitialMonth: _types2.default.dateObject,\n\tinnerClass: _types2.default.style,\n\tnumberOfMonths: _types2.default.number,\n\tonQueryChange: _types2.default.func,\n\tonValueChange: _types2.default.func,\n\tonChange: _types2.default.func,\n\tplaceholder: _types2.default.rangeLabels,\n\tnestedField: _types2.default.string,\n\tqueryFormat: _types2.default.queryFormatDate,\n\tparseDate: _types2.default.func,\n\treact: _types2.default.react,\n\tshowClear: _types2.default.bool,\n\tshowFilter: _types2.default.bool,\n\tstyle: _types2.default.style,\n\ttheme: _types2.default.style,\n\ttitle: _types2.default.string,\n\tindex: _types2.default.string\n};\n\nDateRange.defaultProps = {\n\tautoFocusEnd: true,\n\tnumberOfMonths: 2,\n\tplaceholder: {\n\t\tstart: 'Start date',\n\t\tend: 'End date'\n\t},\n\tshowClear: true,\n\tshowFilter: true,\n\tqueryFormat: 'epoch_millis'\n};\n\n// Add componentType for SSR\nDateRange.componentType = _constants.componentTypes.dateRange;\n\nvar mapStateToProps = function mapStateToProps(state, props) {\n\treturn {\n\t\tselectedValue: state.selectedValues[props.componentId] ? state.selectedValues[props.componentId].value : null,\n\t\tenableAppbase: state.config.enableAppbase\n\t};\n};\n\nvar mapDispatchtoProps = function mapDispatchtoProps(dispatch) {\n\treturn {\n\t\tsetCustomQuery: function setCustomQuery(component, query) {\n\t\t\treturn dispatch((0, _actions.setCustomQuery)(component, query));\n\t\t},\n\t\tupdateQuery: function updateQuery(updateQueryObject) {\n\t\t\treturn dispatch((0, _actions.updateQuery)(updateQueryObject));\n\t\t},\n\t\tsetQueryOptions: function setQueryOptions(component, props) {\n\t\t\treturn dispatch((0, _actions.setQueryOptions)(component, props));\n\t\t}\n\t};\n};\n\nvar ConnectedComponent = (0, _utils.connect)(mapStateToProps, mapDispatchtoProps)((0, _emotionTheming.withTheme)(function (props) {\n\treturn _react2.default.createElement(\n\t\t_ComponentWrapper2.default,\n\t\t_extends({}, props, { componentType: _constants.componentTypes.dateRange }),\n\t\tfunction () {\n\t\t\treturn _react2.default.createElement(DateRange, _extends({ ref: props.myForwardedRef }, props));\n\t\t}\n\t);\n}));\n\n// eslint-disable-next-line\nvar ForwardRefComponent = _react2.default.forwardRef(function (props, ref) {\n\treturn _react2.default.createElement(ConnectedComponent, _extends({}, props, { myForwardedRef: ref }));\n});\n(0, _hoistNonReactStatics2.default)(ForwardRefComponent, DateRange);\n\nForwardRefComponent.displayName = 'DateRange';\nexports.default = ForwardRefComponent;"]},"metadata":{},"sourceType":"script"}